---
import MainLayout from "./MainLayout.astro";

import { slugify, formatDate } from "../js/utils.js"

import { Image } from "astro:assets";

const { frontmatter } = Astro.props;

const { title, description, date, category, author, image } = frontmatter;

---

<MainLayout {title} {description} >
    <header>
        <div class="container">
            <small>
                <a class="badge" href={`/category/${slugify(category)}/`}>{category}</a>
            </small>
            <h1 class="h2">{title}</h1>
            <p>by <a href={`/author/${slugify(author)}/`}>{author}</a> . {formatDate(date)} </p>
        </div>
        <Image 
            format="avif" 
            src={image.src} 
            alt={image.alt} 
            width="1200" 
            height="600"
            fit="cover"
            quality={80}
            aspectRatio="5:2"
            class="hero-image"        
        />
    </header>
    <div class="post-content">
        <div class="content">
            <slot />
        </div>
        <div class="sidebar">

        </div>
    </div>
</MainLayout>